{% extends "workshops/base.html" %}

{% load get_params %}

{% block content %}
    <h2>{% block h2 %}Workshopy{% endblock %}</h2>

    {% block listing %}
    <ul id="workshops-listing">
    {% for obj in object_list %}
        <li>
            <a href="{{ obj.get_absolute_url }}">{{ obj.title }}</a>
            ({{ obj.timestamp|date:'d.m.Y' }}, lektor: <span class="author">{{ obj.instructor.username }}</span>)
        </li>
    {% endfor %}
    </ul>

    <ul id="workshops-pagination">
        <li>
            {% if object_list.has_previous %}
            <a href="{% remove_get_params request.get_full_path 'p' %}">[Nej]</a>
            {% else %}
            [Nej]
            {% endif %}
        </li>
        <li>
            {% if object_list.has_previous %}
            <a href="{% if object_list.number == 2 %}{% remove_get_params request.get_full_path 'p' %}{% else %}{% replace_get_params request.get_full_path p=object_list.previous_page_number %}{% endif %}">[Novější]</a>
            {% else %}
            [Novější]
            {% endif %}
        </li>
        <li>
            {% if object_list.has_next %}
            <a href="{% replace_get_params request.get_full_path p=object_list.next_page_number %}">[Starší]</a>
            {% else %}
            [Starší]
            {% endif %}
        </li>
    </ul>
    {% endblock %}
{% endblock %}
